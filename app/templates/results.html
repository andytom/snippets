{%- extends "base.html" %}
{%- block content %}
{%- if results %}
  {%- if query %}
  <h4>Results for query <strong>{{ query }}</strong></h4>
  {%- else %}
  <h4>{{ results | length }} newest snippets</h4>
  {%- endif %}
  {%- for snippet in results %}
  <div class="panel panel-default">
    <div class="panel-heading">
      <a href='{{ url_for('get_snippet', id=snippet.id) }}'>{{ snippet.title }}</a>
    </div>
    <div class="panel-body">
      {{ snippet.text | truncate(250, False) | markdown }}
    </div>
  </div>
  {%- endfor %}
{%- else %}
  {%- if query %}
  <h4>No results for query <strong>{{ query }}</strong></h4>
  {%- else %}
  <h4>There are no snippets. Why don't you <a href='{{ url_for('new_snippet') }}'>Create One</a>?</h4>
  {%- endif %}
{%- endif %}
{%- endblock %}
